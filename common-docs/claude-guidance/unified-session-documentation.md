# 統一セッションドキュメント記録システム

sessions/ディレクトリに統合し、従来のsessions/形式の簡潔性とtask-records/形式の構造化の両方を活用できるドキュメント形式です。

## sessions/ディレクトリ統合方針

**すべてのセッション記録をsessions/ディレクトリに集約**し、記録の性質に応じて適切な形式を選択します。

### 📝 **リアルタイム記録形式（従来sessions/ベース）**

開発中のメモ、決定事項、発見した内容を即座に記録：

```markdown
# [作業内容] - YYYY-MM-DD

## 作業概要
[今回のセッションで何をするか・したか]

## 重要な決定・発見
### [時刻] [決定事項/発見内容]
- **背景**: なぜ
- **内容**: 何を
- **理由**: どうして
- **影響**: 他への影響

## 技術的詳細
[具体的な実装・設定・コマンド]

## 次回の継続点
- [ ] 残作業1
- [ ] 残作業2
```

### 📋 **完了タスク詳細記録形式（task-records/知見を継承）**

タスク完了時の包括的な記録、成果物の整理：

```markdown
# [タスク名] - 完了レポート

**完了日**: YYYY-MM-DD  
**優先度**: [高/中/低]  
**セッション**: [継続/単発]

## 元の指示
```
[ユーザーからの元の指示を引用]
```

## Claude Code解釈
[要求をどう理解・構造化したか]

## 完了内容
### ✅ [サブタスク1]
[具体的な成果物・変更内容]

### ✅ [サブタスク2]
[具体的な成果物・変更内容]

## 技術的詳細
[使用技術、実装方法、設定変更等]

## 成果物
- 新規作成: [ファイルリスト]
- 変更: [ファイルリスト]
- 削除: [ファイルリスト]

## 期待される効果
[この作業による改善・効果]
```

## 統一化された記録原則

### 🎯 **命名規則**

**sessions/ディレクトリに統合:**
- リアルタイム記録: `sessions/YYYY-MM-DD-description.md`
- 完了タスク記録: `sessions/YYYY-MM-DD-task-name-report.md`
- 例:
  - `sessions/2025-06-28-api-endpoint-refactoring.md` (リアルタイム)
  - `sessions/2025-06-28-push-notifications-report.md` (完了詳細)

### 📊 **情報レベル**

| 記録タイプ | 詳細度 | 対象読者 | 更新頻度 |
|-----------|-------|---------|---------|
| リアルタイム記録 | 簡潔 | セッション継続時 | リアルタイム |
| 完了タスク記録 | 詳細 | 将来の参照・他者 | 完了時一回 |

### 🔄 **運用プロセス**

1. **開発中**: sessions/でリアルタイム記録
2. **タスク完了時**: sessions/で詳細記録作成（-report接尾辞）
3. **重要な決定**: sessions/ → decisions/移行
4. **発見した問題**: sessions/ → issues/移行

## Claude Code向け指示

### セッション開始時
```markdown
今回の作業に関連する sessions/ と task-records/ を確認してください。
前回からの継続性と重複を避けるため：

1. 関連するsessions/ファイルの確認
2. 完了したtask-records/の内容確認
3. 新規sessions/ファイル作成（必要に応じて）
```

### セッション中
```markdown
重要な決定や発見があった場合、sessions/ファイルに即座に記録：
- 技術的決定とその理由
- 問題の発見と解決策
- アーキテクチャ変更
- 設定変更やコマンド
```

### タスク完了時
```markdown
task-records/で完了レポート作成：
1. 元の指示の引用
2. 解釈と構造化
3. 具体的な実装内容
4. 成果物一覧
5. 技術的詳細
6. 期待される効果
```

## 統合後のディレクトリ構造

```
docs/
├── sessions/                              # 統合セッション記録
│   ├── 2025-06-28-api-refactoring.md         # リアルタイム記録
│   ├── 2025-06-28-push-notifications-report.md  # 完了タスク詳細
│   └── 2025-06-29-ui-improvements.md         # リアルタイム記録
├── decisions/                             # 重要な技術決定（sessions/から移行）
├── issues/                                # 発見した問題（sessions/から移行）
├── user-requests.md                       # タスク管理メイン
└── session_progress.md                    # プロジェクト全体進捗
```

## 自動化可能な運用ルール

### 1. セッション終了時チェックリスト
```bash
# sessions/から重要情報の抽出確認
- [ ] 技術決定 → decisions/ 移行要否
- [ ] 問題発見 → issues/ 移行要否
- [ ] 完了タスク → sessions/詳細レポート（-report接尾辞）作成要否
```

### 2. 定期整理（月次）
```bash
# 古いsessions/ファイルの整理
find docs/sessions/ -name "*.md" -mtime +30
# 重複ファイル確認
# 未移行の重要情報確認（decisions/、issues/への移行）
```

### 3. プロジェクト間統一
```bash
# webcommons/common-docs/での標準化
# 他プロジェクトでの同一形式採用
# テンプレートファイルの共有
```

## 利点

### ✅ **開発効率**
- 作業中は簡潔なsessions/で速やかに記録
- 完了時に詳細なsessions/レポート（-report接尾辞）で知識蓄積
- 単一ディレクトリによる情報の一元管理

### ✅ **継続性**
- sessions/での統一された文脈情報保持
- 段階的な情報深化（リアルタイム → 詳細レポート）
- ディレクトリ分散による情報の分離回避

### ✅ **チーム協働**
- 統一された情報保管場所（sessions/）
- Claude Codeとの効率的な情報共有
- プロジェクト間での知見共有

### ✅ **管理効率**
- task-records/とsessions/の重複排除
- 単一ディレクトリによる管理負荷軽減
- 統一命名規則による検索性向上

この統一システムにより、sessions/ディレクトリに集約された自然なドキュメント作成と、将来の参照に適した構造化情報の両立が実現されます。